== Chapter 1: A Day in the Life of a New Developer

=== Your First Steps to Your Digital Kingdom

* Imagine this: You're a new developer starting onboarding with your organization, your spirit burning bright with great desire to craft and create.
* The keys to your new digital kingdom, your laptop and access credentials, have just been handed over to you.
* Amid the excitement, you discover a welcome email in your inbox,  with a link to access the *Red Hat Developer Hub (RHDH)*, your organization's *Internal Developer Portal (IDP)*.
* Included in the welcome email are some useful links to provide more details on the technologies you'll be engaging with in your new role.
** You follow this link:glossary.html#idp[link,window=_blank] to read more about *IDPs*. 
** Then, you explore another link:glossary.html#rhdh[link,window=_blank] to learn more about the *Red Hat Developer Hub (RHDH)*.
* "It looks like this handy glossary is going to be a useful companion through my journey," you think to yourself.
* With these resources at your fingertips, you're now ready to start working on your new project.

TIP: Throughout this guide, you'll find links to a link:glossary.html[*glossary*,window=_blank] explaining terms that might be unfamiliar. Feel free to explore the glossary to learn more about the concepts and technologies referred to throughout this guide.

'''

=== Logging into Red Hat Developer Hub (RHDH)

* Eager to check out the *RHDH*, you quickly follow the instructions from your welcome email.
* You use this link:{developer_cluster_rhdh_url}[*URL*, ,window=_blank] to log into *RHDH*.
* Next, you click on the *GitLab* button to start the authentication process. 

image::1_Authenticate.png[]

* Now, it's time to enter your username and password as detailed below:
** *Username*: {developer_cluster_rhdh_user}
** *Password*: {developer_cluster_rhdh_user_password}
* After inputting your credentials, you click the *Sign in* button.

image::2_Gitlab_Authenticate.png[]

* You then click on the *Authorize* button to authorize link:glossary.html#keycloak[*Keycloak*,window=_blank] to access you account.

image::3_Authorize.png[]

* Moments later, you're welcomed by the *RHDH* landing page.

image::4_RHDH_Landing_Page.png[]

'''

=== Running your first Golden Path Template (GPT)

* Eager as you are, you immediately want to explore the link:glossary.html#gpt[Golden Path Templates (GPT),window=_blank] you've heard so much about from your colleagues.
* You find and click the *Create* link in the left menu. 

image::5_Click_Create.png[]

* Among the options, you spot the *GPT* titled *Insecured Quarkus Service Software Supply Chain* 
* Feeling a mix of excitement and curiosity, you click the *Choose* button.

NOTE: This lab has been pre-configured with two Golden Path Templates (GPTs), a non-secure GPT and a secure GPT. However, lets pretend that our developer only sees the insecure GPT at this point and the naming of the GPT does not hint at the forthcoming challenges associated with running an insecure software supply pipeline.

image::6_Choose_Insecure_GPT.png[]

* As the form for the *Golden Path Template (GPT)* appears, you're pleasantly surprised. 
* Unlike other complicated ticketing systems you've used before, this form is refreshingly simple and seems tailor-made for your particular task. 
* "Ah, so my team has opted to use link:glossary.html#quarkus[*Quarkus*,window=_blank] for this project. That's a great framework for developing Kubernetes-native applications," you tell yourself, with excitement sparking within you.. 
* You click *Next*.

image::7_First_Step_Form.png[]

* You're pleased to find all the input fields are already pre-populated for you.
* You also note that your organization is using link:glossary.html#quay[*Red Hat Quay*,window=_blank] as the image registry.
* You click *Next* on the this form as well.

image::7_Second_Step_Form.png[]

* Now, you hit the *Review* button for a final look at the form inputs. 

image::9_Click_Review_Form.png[]

* Everything checks out, so you confidently click on the *Create* button.

image::10_Review_Form.png[]

* The *Golden Path Template (GPT)* kicks into action, and in just a few seconds it sets up everything you need for your *Quarkus* application.
* The *GPT* has done quiet a bit of heavy lifting on your behalf here:
.. It created two repositories in *Gitlab*: one for the application source code and the other for link:glossary.html#gitops[*OpenShift GitOps*,window=_blank] manifests.
.. It instructed *OpenShift GitOps* to create an application and all the specified resources in the manifests in the target link:glossary.html#ocp[*OpenShift*,window=_blank] cluster.
.. *OpenShift GitOps* then processed the link:glossary.html#helm[*Helm Charts*,window=_blank] in the manifests git repo to deploy a CI pipeline in link:glossary.html#pipeline[*OpenShift Pipelines*,window=_blank] to build your application and push it to *Red Hat Quay*.

NOTE: You might be wondering, what if my organization uses tools other than OpenShift GitOps? What if you've invested in Azure DevOps, for example? The great news is that every step in a Golden Path Template is fully customizable, and we can swap out any tool used in a step with one of your choice. This flexibility is made possible through an extensible ecosystem of link:glossary.html#rhdh_plugins[*plugins*,window=_blank]. These plugins enable you to select your preferred tools from the existing plugins marketplace or even develop your custom plugins. So, in a nutshell, a GPT adapts to your organization's workflow, not the other way around.

image::73_GPT_Flow.png[]

* You click on the *Open Component in Catalog* link.

image::11_Executed_GPT.png[]

* And just like that, you're directed to your *Dashboard*, where all the tools you need to start coding are readily available at your fingertips.

image::12_Dashboard.png[]

* The first thing you decide to do is dive into coding on your project. 
* You access your Virtual Network Computer (VNC) interface using the link:{developer_cluster_novnc_web_url}[*link*,window=_blank].
* When prompted, you enter your password: {developer_cluster_novnc_user_password}, and then click on the *Send Credentials* button.

NOTE: Normally, developers would use *VSCode* on their local laptops. However, to simplify the setup process, we've setup *VSCode* on a remote RHEL server accessible via a *VNC*. 

image::38_Send_Credentials.png[]

* Once the RHEL server welcome screen appears, you click on *Activities* at the top left of your screen and enter "*VSCode*" in the search bar.
* You then launch *VSCode* by clicking on it's icon.

image::39_Search_For_VSCode.png[]

* "Alright, now I am ready to clone my project's git repo," you tell yourself.
* You open the *No VNC* clipboard, then you paste the following link to your project repo into it: 
** Project Repo URL: {clone_insecure_url}

image::68_NoVNC_Clipboard.png[]

image::69_NoVNC_Clipboard_with_URL.png[]

* You copy the link from the clipboard as you prepare to use it in *VSCode*.
* You click on the *Source Control* icon in the left menu, then on the *Clone Repository* button, and paste the link you just copied from the clipboard.

NOTE: To copy & paste between your laptop and the remote Linux VM, you need to use the VNC clipboard.

image::70_Clone_Repo_In_VSCode.png[]

* You select the current location as the repository destination by clicking on the *Select as Repository Destination* button.

image::41_Choose_Folder.png[]

* You load the cloned repository in *VSCode* by clicking *Open* in the pop-up window that follows.

image::42_Open_Cloned_Repo.png[]

* After choosing to trust the authors, you are ready to start working on your task.

image::19_Trust_Authors.png[]

* To accomplish your task, you need to:

. Update the hello method in the ExampleResource.java class.
. Update the JUnit test verifying this method's output.
. Amend the documentation to reflect your changes.

* In your *insecured-app* workspace, you expand the folders *src -> main -> java*, and then open the *ExampleResource.java* file. 
* On line 14, you replace the return message of the hello method from "Hello RESTEasy" to "Hello from RHDH".

image::20_Modify_ExampleResource.png[]

* Next, you update the JUnit test for this method. 
* You expand the folders *src -> main -> test*, and open the *ExampleResourceTest.java* file. 
* On line 18, you change the expected text from "Hello RESTEasy" to "Hello from RHDH".

NOTE: The JUnit test for the Hello method needs updating to be the exactly the same as in the *ExampleResource.java**; otherwise, the build step in the CI/CD pipeline would fail due to discrepancies between the code and its test.

image::21_Modify_ExampleResourceTest.png[]

* You recall your team's explanation that the documentation coexists with the code, nestled in the same git repository as a markdown file.
* You expand the docs folder and open the markdown file *Index.md*.
* At the document's end, you add: "Release 1.0: Code update."

image::71_Update_Documentation.png[]

* Having completed your task, you're ready to commit your changes.
* You open the file menu and choose to *Save All* your changes.
* You click on the *Source Control* icon located in the left menu.
* Then, you enter the commit message â€œMy First Commit" and click on the *Commit* button to finalize your changes.

image::72_Commit_Changes.png[]

* A form appears in your browser, prompting you for your credentials. You fill in the details as follows:
** Username: {developer_cluster_rhdh_user}
** Password: {developer_cluster_rhdh_user_password}

NOTE: You will learn more about the importance of this step in the next chapter of this workshop.

image::45_Sigstore_Signin.png[]

* After successful authentication, you close the browser and switch back to *VSCode*.
* Finally, you click on the *Sync Changes* button.

image::25_SYNC_Changes.png[]

* You've successfully implemented your change and updated the documentation in one commit, following the "docs as code" methodology where documentation is treated with the same level of care and under the same process as source code. 
* You are delighted by knowing that following this methodology ensures that your documentation is as current as your code itself.
* Your commit triggers the build pipeline for your *Quarkus* application.
* You switch back to the *RHDH Dashboard* tab in your browser and select the *CI tab* from the top menu.

image::27_Click_on_CI_Tab.png[]

* And just as you expected, a build pipeline has already been triggered.
* You eagerly expand the pipeline view to monitor the progress of this pipeline run. 

image::28_Expand_Pipeline_View.png[]

* After a few minutes of anticipation, the pipeline run concludes, and the application image is successfully built.
* You select the *Image Registry* tab from the upper menu and confirm that your image has been pushed to the Registry.

NOTE: This is another plugin in action allowing RHDH to integrate with Red Hat Quay.

image::87_Image_Registry.png[]

* Finally you switch to the *Docs* tab and verify that documentation is up to date.

image::88_Docs_View.png[]

* With a sense of accomplishment, your task now complete, you draft an email to the QA team, inviting them to begin testing your changes. 

'''

=== Chapter 1 - Summary

Our story unfolds with a bright-eyed developer starting his new role, welcomed by the innovative environment of the *Red Hat Developer Hub (RHDH)*. This *Internal Developer Portal (IDP)*, with its *Golden Path Templates (GPTs)* streamlined and automated his onboarding process. The *GPT* offered a self-service approach to project initiation, enabling our developer to quickly dive into his task, without the overhead of configuring the underlying technology of the development environment.

The next chapter of our story uncovers the risks associated with providing developers with the tools to create great code without the necessary security guard rails that are crucial for safeguarding the organization against security threats. 



